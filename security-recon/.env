# Security Reconnaissance Stack - Environment Configuration
# Purpose: Passive service detection from multiple geolocations via VPN

# ==================================================================================
# Base Configuration
# ==================================================================================
TZ=America/Chicago
DOCKER_ROOT=/opt/Docker
PUID=1000
PGID=1000

# ==================================================================================
# Target Configuration
# ==================================================================================
# Start with safe test target, then change to your actual target

# Safe test target (Nmap's official test server - scanning allowed)
TEST_TARGET=scanme.nmap.org

# Placeholder for your actual target (change when ready)
REAL_TARGET=example.com

# Active scan target (used by automated startup script)
# Change this to TEST_TARGET or REAL_TARGET as needed
SCAN_TARGET=scanme.nmap.org

# NOTE: Replace example.com with your ISPConfig3 server when ready to test
# Examples:
#   REAL_TARGET=myserver.example.com
#   REAL_TARGET=203.0.113.10

# ==================================================================================
# VPN Configuration (Gluetun)
# ==================================================================================

# VPN Provider
VPN_SERVICE_PROVIDER=private internet access
VPN_TYPE=openvpn
UPDATER_PERIOD=4h

# Port Forwarding (not needed for reconnaissance, but keep for consistency)
VPN_PORT_FORWARDING=off

# ==================================================================================
# Region Selection - CHANGE THIS TO ROTATE GEOLOCATIONS
# ==================================================================================
# To test from different regions:
# 1. Edit SERVER_REGIONS below
# 2. Run: docker compose restart gluetun
# 3. Wait for VPN to reconnect (~30 seconds)
# 4. Run your reconnaissance tools
# 5. Repeat for each region

# Available PIA regions (examples):
# Austria, Belgium, Croatia, Estonia
# DE Frankfurt, DE Berlin
# ES Madrid, ES Valencia
# Finland, France, Greece, Hungary, Ireland, Italy
# Netherlands, Norway, Poland, Portugal, Romania
# Serbia, Slovakia, Spain, Sweden, Switzerland
# UK London, UK Manchester, UK Southampton
# US East, US West, US Texas, US Atlanta, US California
# Australia, Japan, Singapore, New Zealand

# Current region (change manually for each test run):
SERVER_REGIONS=Austria

# To get full list of available regions, run:
# docker exec gluetun-recon sh -c "cat /gluetun/servers.json | grep -o '\"region\":\"[^\"]*\"' | sort -u"

# ==================================================================================
# DNS Configuration
# ==================================================================================
# Use public DNS to avoid ISP DNS leaks

# Quad9 (privacy-focused, no logging)
DNS_ADDRESS=9.9.9.9

# Alternatives:
# Google: 8.8.8.8
# Cloudflare: 1.1.1.1
# OpenDNS: 208.67.222.222

# ==================================================================================
# Security Configuration
# ==================================================================================

# Block IPv6 to prevent leaks (VPN is IPv4 only)
BLOCK_IPV6=on

# VPN Health Check
HEALTH_VPN_DURATION_INITIAL=30s

# ==================================================================================
# VPN Credentials
# ==================================================================================
# Stored in separate file: /mnt/zpool/Docker/Secrets/vpn.env
# Create this file with:
#   OPENVPN_USER=your_pia_username
#   OPENVPN_PASSWORD=your_pia_password
#
# Keep vpn.env out of git!

# ==================================================================================
# Testing Workflow
# ==================================================================================
# 1. Start with TEST_TARGET=scanme.nmap.org
# 2. Test from Austria (current region)
# 3. Change to SERVER_REGIONS=DE Frankfurt
# 4. Restart: docker compose restart gluetun
# 5. Test again, compare results
# 6. Repeat for other regions
# 7. When confident with safe scanning, change to REAL_TARGET
